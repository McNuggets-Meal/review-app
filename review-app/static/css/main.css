/* ============================================================
   Persona Reviews — Dark Mode Design
   Apple-inspired: deep backgrounds, elevated dark cards,
   crisp white type, single accent colour
   ============================================================ */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

/* ── Variables ──────────────────────────────────────────────── */
:root {
    --font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

    /* Dark backgrounds — Apple dark palette */
    --bg:        #111111;          /* very slightly lifted black */
    --bg-2:      #161616;          /* barely-off-black for variety */
    --card:      #1c1c1e;          /* raised card surface */
    --card-2:    #242426;          /* slightly lighter card / inputs */
    --card-3:    #3a3a3c;          /* hover / selected state */

    /* Borders */
    --border:    rgba(255,255,255,0.08);
    --border-2:  rgba(255,255,255,0.05);

    /* Text */
    --t1:  #f5f5f7;                /* primary — Apple's off-white */
    --t2:  #a1a1a6;                /* secondary */
    --t3:  #636366;                /* tertiary / muted */

    /* Accent — Apple blue */
    --accent:      #2997ff;
    --accent-dark: #0077ed;
    --accent-glow: rgba(41,151,255,0.20);

    --star:    #ffd60a;
    --success: #30d158;
    --danger:  #ff453a;
    --warn:    #ffd60a;

    /* Radii */
    --r-sm:   8px;
    --r:      16px;
    --r-lg:   20px;
    --r-xl:   28px;
    --r-pill: 9999px;

    /* Shadows — dark-mode shadows are near-invisible; use them sparingly */
    --shadow-sm:  0 2px 8px rgba(0,0,0,0.5);
    --shadow-md:  0 8px 32px rgba(0,0,0,0.6);
    --shadow-lg:  0 20px 60px rgba(0,0,0,0.7);
    --shadow-acc: 0 0 0 3px var(--accent-glow);

    /* Spacing */
    --s1:.25rem; --s2:.5rem;  --s3:.75rem; --s4:1rem;
    --s5:1.5rem; --s6:2rem;  --s8:3rem;   --s10:4rem; --s12:5rem;
}

/* ── Reset ──────────────────────────────────────────────────── */
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html { scroll-behavior:smooth; color-scheme:dark; }

body {
    font-family: var(--font);
    font-size: 16px;
    line-height: 1.6;
    color: var(--t1);
    background: var(--bg);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    -webkit-font-smoothing: antialiased;
}

main { flex:1; padding-bottom: var(--s12); }
img  { display:block; max-width:100%; }

/* ── Container ──────────────────────────────────────────────── */
.container {
    max-width: 1140px;
    margin: 0 auto;
    padding: 0 var(--s6);
}

/* ── Navbar ─────────────────────────────────────────────────── */
.navbar {
    position: sticky;
    top: 0;
    z-index: 200;
    background: rgba(0,0,0,0.72);
    backdrop-filter: saturate(180%) blur(20px);
    -webkit-backdrop-filter: saturate(180%) blur(20px);
    border-bottom: 1px solid var(--border);
}

.navbar .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 52px;
}

.logo {
    font-size: 1rem;
    font-weight: 700;
    color: var(--t1);
    text-decoration: none;
    letter-spacing: -0.02em;
    display: flex;
    align-items: center;
    gap: var(--s3);
}

.logo-icon {
    width: 26px;
    height: 26px;
    background: var(--accent);
    border-radius: 7px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.78rem;
    font-weight: 800;
    color: #fff;
    flex-shrink: 0;
}

.nav-links {
    display: flex;
    align-items: center;
    gap: var(--s1);
}

.nav-links a {
    text-decoration: none;
    color: var(--t2);
    font-size: 0.85rem;
    font-weight: 500;
    padding: var(--s2) var(--s3);
    border-radius: var(--r-sm);
    transition: color 0.15s, background 0.15s;
    letter-spacing: -0.01em;
}

.nav-links a:hover {
    color: var(--t1);
    background: rgba(255,255,255,0.06);
}

.username {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--t3);
    padding: 0.2rem var(--s3);
    border: 1px solid var(--border);
    border-radius: var(--r-pill);
}

/* ── Buttons ─────────────────────────────────────────────────── */
.btn-primary,.btn-secondary,.btn-danger,.btn-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--s2);
    font-family: var(--font);
    font-weight: 600;
    font-size: 0.875rem;
    letter-spacing: -0.01em;
    border: none;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.15s ease;
    white-space: nowrap;
    border-radius: var(--r-pill);
    padding: 0.55rem 1.2rem;
}

.btn-primary {
    background: var(--accent);
    color: #fff;
}
.btn-primary:hover {
    background: var(--accent-dark);
    transform: translateY(-1px);
    box-shadow: 0 6px 24px var(--accent-glow);
}
.btn-primary:active { transform: translateY(0); }

.nav-links .btn-primary {
    padding: 0.4rem 0.9rem;
    font-size: 0.8rem;
}

.btn-secondary {
    background: var(--card-3);
    color: var(--t1);
    border: 1px solid var(--border);
}
.btn-secondary:hover {
    background: #3a3a3c;
    transform: translateY(-1px);
}

.btn-danger {
    background: var(--danger);
    color: #fff;
}
.btn-danger:hover {
    background: #ff6961;
    transform: translateY(-1px);
}

.btn-link {
    background: transparent;
    color: var(--accent);
    padding: 0.3rem 0.5rem;
    border-radius: var(--r-sm);
    font-size: 0.875rem;
}
.btn-link:hover {
    background: rgba(41,151,255,0.1);
}

.btn-full { width:100%; }

/* ── Alerts ──────────────────────────────────────────────────── */
.alert {
    padding: var(--s4) var(--s5);
    border-radius: var(--r);
    margin: var(--s5) 0;
    font-size: 0.875rem;
    font-weight: 500;
    border: 1px solid transparent;
}
.alert-success { background:rgba(48,209,88,0.12);  border-color:rgba(48,209,88,0.25);  color:#30d158; }
.alert-danger  { background:rgba(255,69,58,0.12);  border-color:rgba(255,69,58,0.25);  color:#ff6961; }
.alert-warning { background:rgba(255,214,10,0.10); border-color:rgba(255,214,10,0.22); color:#ffd60a; }
.alert-info    { background:rgba(41,151,255,0.10); border-color:rgba(41,151,255,0.22); color:#64d2ff; }

/* ── Page Header ─────────────────────────────────────────────── */
.page-header {
    text-align: center;
    padding: var(--s10) 0 var(--s8);
}

.page-header h1 {
    font-size: clamp(2.8rem, 7vw, 4.5rem);
    font-weight: 800;
    letter-spacing: -0.05em;
    line-height: 1.05;
    color: var(--t1);
    margin-bottom: var(--s3);
}

.page-header p {
    font-size: 1.05rem;
    color: var(--t2);
    max-width: 460px;
    margin: 0 auto;
    line-height: 1.55;
    font-weight: 400;
}

/* ── Forms ───────────────────────────────────────────────────── */
.form-group { margin-bottom: var(--s5); }

.form-group label {
    display: block;
    font-weight: 600;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--t3);
    margin-bottom: var(--s2);
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid var(--border);
    border-radius: var(--r);
    font-size: 0.95rem;
    font-family: var(--font);
    background: var(--card-2);
    color: var(--t1);
    outline: none;
    transition: border-color 0.15s, box-shadow 0.15s;
    -webkit-appearance: none;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    border-color: var(--accent);
    box-shadow: var(--shadow-acc);
}

.form-group input::placeholder,
.form-group textarea::placeholder { color: var(--t3); }

.form-group select option { background: var(--card-2); color: var(--t1); }

.form-hint {
    display: block;
    font-size: 0.75rem;
    color: var(--t3);
    margin-top: var(--s2);
}

.form-actions { display:flex; gap:var(--s3); margin-top:var(--s6); }

.radio-group { display:flex; gap:var(--s4); }

.radio-option {
    display: flex;
    align-items: center;
    gap: var(--s2);
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--t2);
}
.radio-option input { accent-color: var(--accent); width:auto; }

.star-rating-input { font-size:2rem; cursor:pointer; user-select:none; }
.star-rating-input .star { color:var(--card-3); transition:color 0.1s; }
.star-rating-input .star.active,
.star-rating-input .star:hover { color:var(--star); }

.character-count { text-align:right; font-size:0.75rem; color:var(--t3); font-weight:500; }

/* ── Section Labels ──────────────────────────────────────────── */
.collection-heading,
.featured-heading {
    font-size: 0.68rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--t3);
    margin-bottom: var(--s4);
}

/* ── Collection Strip ───────────────────────────────────────── */
.collection-section { margin-bottom: var(--s10); }

/* Collection grid — all tiles visible, no scroll */
.collection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: var(--s4);
    background: #1e1e1e;
    border-radius: var(--r-lg);
    border: 1px solid var(--border-2);
    padding: var(--s5);
}

.collection-tile {
    display: flex;
    flex-direction: column;
    border-radius: var(--r);
    overflow: hidden;
    background: var(--card);
    text-decoration: none;
    border: 1px solid var(--border-2);
    transition: transform 0.22s ease, border-color 0.22s;
}
.collection-tile:hover {
    transform: translateY(-6px) scale(1.02);
    border-color: var(--border);
}

/* ── Poster ──────────────────────────────────────────────────── */
.poster-wrapper {
    width: 100%;
    aspect-ratio: 2 / 3;
    background: var(--card-2);
    position: relative;
    overflow: hidden;
}

.poster-img { width:100%; height:100%; object-fit:cover; transition:transform 0.3s ease; }
.collection-tile:hover .poster-img { transform:scale(1.05); }

.poster-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width:100%; height:100%;
    background: var(--card-2);
    color: var(--t3);
    position: absolute;
    top:0; left:0;
}

.poster-icon { font-size:1.8rem; line-height:1; }

.tile-info { padding:var(--s2) var(--s3) var(--s3); }

.tile-title {
    font-size: 0.78rem;
    font-weight: 600;
    color: var(--t2);
    line-height: 1.35;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* ── Featured Card ───────────────────────────────────────────── */
.featured-section { margin-bottom: var(--s10); }

.featured-card {
    display: flex;
    background: var(--card);
    border-radius: var(--r-xl);
    border: 1px solid var(--border);
    overflow: hidden;
}

.featured-poster-wrapper {
    flex: 0 0 210px;
    position: relative;
    overflow: hidden;
    background: var(--card-2);
    min-height: 320px;
}

.featured-poster-img { width:100%; height:100%; object-fit:cover; display:block; }

.featured-poster-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width:100%; height:100%;
    background: var(--card-2);
    color: var(--t3);
    position: absolute;
    top:0; left:0;
    gap: var(--s3);
    text-align: center;
    padding: var(--s5);
}
.featured-poster-placeholder .poster-icon { font-size:2.5rem; }

.placeholder-label {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    opacity: 0.5;
}

.featured-body {
    flex: 1;
    padding: var(--s8);
    display: flex;
    flex-direction: column;
    gap: var(--s4);
}

.featured-title-row { display:flex; align-items:flex-start; flex-wrap:wrap; }

.featured-title {
    font-size: clamp(1.4rem, 3vw, 2rem);
    font-weight: 700;
    color: var(--t1);
    letter-spacing: -0.04em;
    line-height: 1.15;
}

.featured-excerpt {
    color: var(--t2);
    line-height: 1.72;
    font-size: 0.95rem;
    flex: 1;
}

.featured-actions { display:flex; gap:var(--s3); flex-wrap:wrap; margin-top:auto; }

/* ── Review Rating ───────────────────────────────────────────── */
.review-rating {
    color: var(--star);
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: var(--s2);
}

.rating-number { color:var(--t3); font-size:0.78rem; font-weight:500; }

/* ── Review Meta ─────────────────────────────────────────────── */
.review-meta {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: var(--t3);
    font-weight: 500;
    padding-top: var(--s4);
    border-top: 1px solid var(--border-2);
}

.review-author { color:var(--t2); font-weight:600; }

/* ── Review Grid ─────────────────────────────────────────────── */
.reviews-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--s4);
    margin-top: var(--s6);
}

.review-card {
    background: var(--card);
    padding: var(--s6);
    border-radius: var(--r);
    border: 1px solid var(--border-2);
    transition: transform 0.2s ease, border-color 0.2s;
    display: flex;
    flex-direction: column;
    gap: var(--s3);
    animation: fadeUp 0.35s ease-out both;
}

.review-card:hover {
    transform: translateY(-4px);
    border-color: var(--border);
}

.review-header { display:flex; justify-content:space-between; align-items:flex-start; }

.review-header h3 {
    font-size: 0.975rem;
    font-weight: 700;
    color: var(--t1);
    letter-spacing: -0.02em;
    line-height: 1.3;
}

.review-excerpt { color:var(--t2); font-size:0.875rem; line-height:1.65; flex:1; }

/* ── Category Badge ──────────────────────────────────────────── */
.category-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.15rem 0.6rem;
    border-radius: var(--r-pill);
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    white-space: nowrap;
}
.category-movie { background:rgba(255,69,58,0.15);  color:#ff6961; }
.category-game  { background:rgba(41,151,255,0.15); color:#64d2ff; }

/* ── Empty State ─────────────────────────────────────────────── */
.empty-state {
    text-align: center;
    padding: var(--s12);
    background: var(--card);
    border-radius: var(--r-xl);
    border: 1px solid var(--border-2);
}
.empty-state h2 {
    font-size:1.4rem; font-weight:700; color:var(--t1);
    letter-spacing:-0.03em; margin-bottom:var(--s3);
}
.empty-state p { color:var(--t2); margin-bottom:var(--s5); }

/* ── CTA ─────────────────────────────────────────────────────── */
.cta-section {
    text-align: center;
    background: var(--card);
    border: 1px solid var(--border);
    padding: var(--s12) var(--s6);
    border-radius: var(--r-xl);
    margin-top: var(--s10);
    position: relative;
    overflow: hidden;
}
.cta-section::before {
    content:'';
    position:absolute; inset:0;
    background: radial-gradient(ellipse 80% 60% at 50% -20%, rgba(41,151,255,0.12), transparent 60%);
    pointer-events:none;
}
.cta-section h3 {
    font-size:2rem; font-weight:800; letter-spacing:-0.04em;
    color:var(--t1); margin-bottom:var(--s3); position:relative;
}
.cta-section p {
    color:var(--t2); margin-bottom:var(--s6);
    font-size:1rem; position:relative;
}
.cta-section .btn-primary { position:relative; }

/* ── Title poster row ────────────────────────────────────────── */
.title-poster-row { display:flex; justify-content:center; margin-bottom:var(--s8); }

.title-poster-wrapper {
    width:200px; aspect-ratio:2/3;
    border-radius:var(--r);
    overflow:hidden;
    box-shadow:var(--shadow-lg);
    position:relative;
    background:var(--card-2);
}
.title-poster-img { width:100%; height:100%; object-fit:cover; }
.title-poster-placeholder {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    gap:var(--s3); width:100%; height:100%;
    background:var(--card-2); color:var(--t3);
    position:absolute; top:0; left:0;
    text-align:center; padding:var(--s5);
}

/* ── Back link ───────────────────────────────────────────────── */
.back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--s2);
    color: var(--t3);
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: 500;
    margin-bottom: var(--s5);
    transition: color 0.15s;
}
.back-link:hover { color:var(--t1); }

/* ── Filters ─────────────────────────────────────────────────── */
.filters {
    background: var(--card);
    padding: var(--s3) var(--s5);
    border-radius: var(--r);
    margin-bottom: var(--s6);
    border: 1px solid var(--border-2);
}
.filters form { display:flex; gap:var(--s5); align-items:center; flex-wrap:wrap; }
.filters label {
    font-weight:600; font-size:0.72rem;
    text-transform:uppercase; letter-spacing:0.06em; color:var(--t3);
}
.filters select {
    padding:0.4rem 0.75rem;
    border:1px solid var(--border);
    border-radius:var(--r-sm);
    font-size:0.85rem; font-family:var(--font);
    background:var(--card-2); color:var(--t1);
    cursor:pointer; outline:none;
    transition:border-color 0.15s;
}
.filters select:focus { border-color:var(--accent); }
.filters select option { background:var(--card-2); }

/* ── Footer ──────────────────────────────────────────────────── */
footer {
    background: var(--bg);
    border-top: 1px solid var(--border-2);
    padding: var(--s8) 0;
    text-align: center;
    color: var(--t3);
    font-size: 0.78rem;
    font-weight: 500;
}

/* ── Error Pages ─────────────────────────────────────────────── */
.error-page { text-align:center; padding:var(--s12); }
.error-page h1 {
    font-size:7rem; font-weight:900; color:var(--card-3);
    letter-spacing:-0.06em; line-height:1; margin-bottom:var(--s3);
}
.error-page h2 {
    font-size:1.5rem; font-weight:700; color:var(--t1);
    letter-spacing:-0.03em; margin-bottom:var(--s4);
}

/* ── Animation ───────────────────────────────────────────────── */
@keyframes fadeUp {
    from { opacity:0; transform:translateY(12px); }
    to   { opacity:1; transform:translateY(0); }
}

/* ── Responsive ──────────────────────────────────────────────── */
@media (max-width: 768px) {
    .navbar .container { height:48px; }
    .nav-links a { font-size:0.78rem; padding:var(--s1) var(--s2); }
    .page-header { padding:var(--s8) 0 var(--s6); }
    .featured-card { flex-direction:column; }
    .featured-poster-wrapper { flex:none; width:100%; min-height:200px; aspect-ratio:16/7; }
    .featured-body { padding:var(--s5); }
    .reviews-grid { grid-template-columns:1fr; }
    .collection-grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: var(--s3); padding: var(--s4); border-radius: var(--r); }
    .filters form { flex-direction:column; align-items:stretch; }
    .filters select { width:100%; }
    .form-actions { flex-direction:column; }
    .container { padding:0 var(--s4); }
}

@media (max-width: 480px) {
    .nav-links .username { display:none; }
    .featured-title { font-size:1.25rem; }
}
